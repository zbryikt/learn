!function(){var n,o;function i(e,t){var r,n={}.hasOwnProperty;for(r in t)n.call(t,r)&&(e[r]=t[r]);return e}n={0:"unknown lderror",998:"skipped",999:"canceled",1e3:"user not login",1001:"suspicious user",1002:"unknown error",1003:"image process failed",1004:"quota exceeded",1005:"csrftoken mismatch",1006:"timeout",1007:"server down",1008:"unable to parse user data",1009:"bot",1010:"captcha error",1011:"resource conflict",1012:"permission denied",1013:"expire",1014:"apply for a resource that already exists",1015:"bad parameter",1016:"feature not yet available",1017:"resource corrupted",1018:"no consent",1019:"wrong domain",1020:"not supported",1021:"email not verified",1022:"missing dependency",1023:"lderror testing",1024:"limited by throttling",1025:"runtime error",1026:"not applicable",1027:"missing config"},(o=function(e,t){var r;return null==e&&(e=""),null==t&&(t=0),this instanceof o?(r=(isNaN(+t)?0:+t)||e.id||0,"string"==typeof e?(this.message=e,this.id=r):e instanceof Error?(this.stack=e.stack,this.message=e.message,this.id=r):"object"==typeof e?(delete e.__proto__,delete e.constructor,i(this,e).id=r):"number"==typeof e&&(this.id=e,"string"==typeof t&&(this.message=t),this.message||(this.message=(r=n[this.id||0])?r:100<=this.id&&this.id<600?"http code: "+this.id:n[0]+" (id: "+(this.id||0)+")")),this.stack=(new Error).stack,this.name=o.prototype.name,this):new o(e,t)}).prototype=i(Object.create(Error.prototype),{name:"lderror",toString:function(e){var t;return null==e&&(e={}),t=this.toObject(),null==e.stack||e.stack||delete t.stack,JSON.stringify(t)},toObject:function(){var e={name:this.name};return e.id=this.id,e.message=this.message,e.stack=this.stack,e}}),o.id=function(e){return"object"==typeof e&&"lderror"===e.name&&e.id?e.id:0},o.message=function(e){return"number"==typeof e?n[e]||n[0]:"object"==typeof e&&n[e.id]||n[0]},o.reject=function(e,t){return Promise.reject(new o(e,t))},o.handler=function(e){var i=this;return this.i=((e=null==e?{}:e).ignore||[]).concat([999]),this.h=e.handler,this.r=e.rule||function(e){return e},this.s={},(e=function(e){var t;if(!function(e,t){var r=-1,n=t.length>>>0;for(;++r<n;)if(e===t[r])return!0;return!1}(t=o.id(e),i.i))return i.s[t]=1,i.h(i.r(t),e).then(function(){return i.s[t]=0}),t?void 0:console.log(e)}).isOn=function(){var r,n;return!!function(){var e,t=[];for(r in e=this.s)n=e[r],t.push(n);return t}.call(i).filter(function(e){return e}).length},e},"undefined"!=typeof module&&null!==module?module.exports=o:"undefined"!=typeof window&&null!==window&&(window.lderror=o)}.call(this);
